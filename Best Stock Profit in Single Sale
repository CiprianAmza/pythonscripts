def max_profit(prices):
    
    _m = float('inf')
    best = float('-inf')
    
    for i in prices:
        best = max(best, i-_m)
        _m = min(i, _m)
    
    return best
